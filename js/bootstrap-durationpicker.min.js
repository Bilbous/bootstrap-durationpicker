/*! bootstrap-durationpicker v1.0.0 
* http://bilbous.github.com/bootstrap-durationpicker 
* Copyright (c) 2015 Yannick Cenatiempo 
* MIT License 
*/!function(t,e,i){"use strict";var n=function(e,i){this.widget="",this.$element=t(e),this.defaultDuration=i.defaultDuration,this.disableFocus=i.disableFocus,this.disableMousewheel=i.disableMousewheel,this.isOpen=i.isOpen,this.minuteStep=i.minuteStep,this.modalBackdrop=i.modalBackdrop,this.orientation=i.orientation,this.secondStep=i.secondStep,this.showInputs=i.showInputs,this.showSeconds=i.showSeconds,this.template=i.template,this.customTemplateContent=i.customTemplateContent,this.appendWidgetTo=i.appendWidgetTo,this.showWidgetOnAddonClick=i.showWidgetOnAddonClick,this._init()};n.prototype={constructor:n,_init:function(){var e=this;this.showWidgetOnAddonClick&&(this.$element.parent().hasClass("input-append")||this.$element.parent().hasClass("input-prepend")||this.$element.parent().hasClass("input-group"))?(this.$element.parent(".input-append, .input-prepend, .input-group").find(".add-on, .input-group-addon").on({"click.durationpicker":t.proxy(this.showWidget,this)}),this.$element.on({"focus.durationpicker":t.proxy(this.highlightUnit,this),"click.durationpicker":t.proxy(this.highlightUnit,this),"keydown.durationpicker":t.proxy(this.elementKeydown,this),"blur.durationpicker":t.proxy(this.blurElement,this),"mousewheel.durationpicker DOMMouseScroll.durationpicker":t.proxy(this.mousewheel,this)})):this.$element.on(this.template?{"focus.durationpicker":t.proxy(this.showWidget,this),"click.durationpicker":t.proxy(this.showWidget,this),"blur.durationpicker":t.proxy(this.blurElement,this),"mousewheel.durationpicker DOMMouseScroll.durationpicker":t.proxy(this.mousewheel,this)}:{"focus.durationpicker":t.proxy(this.highlightUnit,this),"click.durationpicker":t.proxy(this.highlightUnit,this),"keydown.durationpicker":t.proxy(this.elementKeydown,this),"blur.durationpicker":t.proxy(this.blurElement,this),"mousewheel.durationpicker DOMMouseScroll.durationpicker":t.proxy(this.mousewheel,this)}),this.$widget=this.template!==!1?t(this.getTemplate()).on("click",t.proxy(this.widgetClick,this)):!1,this.showInputs&&this.$widget!==!1&&this.$widget.find("input").each(function(){t(this).on({"click.durationpicker":function(){t(this).select()},"keydown.durationpicker":t.proxy(e.widgetKeydown,e),"keyup.durationpicker":t.proxy(e.widgetKeyup,e)})}),this.setDefaultDuration(this.defaultDuration)},blurElement:function(){this.highlightedUnit=null,this.updateFromElementVal()},clear:function(){this.hour="",this.minute="",this.second="",this.$element.val("")},decrementHour:function(){this.hour<=0?this.hour=0:this.hour--},decrementMinute:function(t){var e;e=t?this.minute-t:this.minute-this.minuteStep,0>e?(this.decrementHour(),this.minute=e+60):this.minute=e},decrementSecond:function(){var t=this.second-this.secondStep;0>t?(this.decrementMinute(!0),this.second=t+60):this.second=t},elementKeydown:function(t){switch(t.keyCode){case 9:case 27:this.updateFromElementVal();break;case 37:t.preventDefault(),this.highlightPrevUnit();break;case 38:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond()}this.update();break;case 39:t.preventDefault(),this.highlightNextUnit();break;case 40:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond()}this.update()}},getCursorPosition:function(){var t=this.$element.get(0);if("selectionStart"in t)return t.selectionStart;if(i.selection){t.focus();var e=i.selection.createRange(),n=i.selection.createRange().text.length;return e.moveStart("character",-t.value.length),e.text.length-n}},getTemplate:function(){var t,e,i,n,s;switch(this.showInputs?(e='<input type="text" class="bootstrap-durationpicker-hour" maxlength="3"/>',i='<input type="text" class="bootstrap-durationpicker-minute" maxlength="2"/>',n='<input type="text" class="bootstrap-durationpicker-second" maxlength="2"/>'):(e='<span class="bootstrap-durationpicker-hour"></span>',i='<span class="bootstrap-durationpicker-minute"></span>',n='<span class="bootstrap-durationpicker-second"></span>'),s=this.customTemplateContent!==!1?this.customTemplateContent:'<table><tr><td><a href="#" data-action="incrementHour"><i class="icon-chevron-up"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="icon-chevron-up"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="icon-chevron-up"></i></a></td>':"")+"</tr><tr><td>"+e+'</td> <td class="separator">:</td><td>'+i+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+n+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><i class="icon-chevron-down"></i></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><i class="icon-chevron-down"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="icon-chevron-down"></i></a></td>':"")+"</tr></table>",this.template){case"modal":t='<div class="bootstrap-durationpicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">Ã—</a><h3>Pick a Duration</h3></div><div class="modal-content">'+s+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case"dropdown":t='<div class="bootstrap-durationpicker-widget dropdown-menu">'+s+"</div>"}return t},getDuration:function(){return""===this.hour?"":this.hour+":"+(1===this.minute.toString().length?"0"+this.minute:this.minute)+(this.showSeconds?":"+(1===this.second.toString().length?"0"+this.second:this.second):"")},hideWidget:function(){this.isOpen!==!1&&(this.$element.trigger({type:"hide.durationpicker",duration:{value:this.getDuration(),hours:this.hour,minutes:this.minute,seconds:this.second}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),t(i).off("mousedown.durationpicker, touchend.durationpicker"),this.isOpen=!1,this.$widget.detach())},highlightUnit:function(){var t=2;this.hour>=100?t=3:self.hour<10&&(t=1),this.position=this.getCursorPosition(),this.position>=0&&this.position<=t?this.highlightHour():this.position>=t+1&&this.position<=t+3?this.highlightMinute():this.position>=t+4&&this.position<=t+6&&this.showSeconds&&this.highlightSecond()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.highlightHour();break;case"second":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.showSeconds?this.highlightSecond():this.highlightMinute();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute()}},highlightHour:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="hour",t.setSelectionRange&&setTimeout(function(){e.hour>=100?t.setSelectionRange(0,3):e.hour<10?t.setSelectionRange(0,1):t.setSelectionRange(0,2)},0)},highlightMinute:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="minute",t.setSelectionRange&&setTimeout(function(){e.hour>=100?t.setSelectionRange(4,6):e.hour<10?t.setSelectionRange(2,4):t.setSelectionRange(3,5)},0)},highlightSecond:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="second",t.setSelectionRange&&setTimeout(function(){e.hour>=100?t.setSelectionRange(7,9):e.hour<10?t.setSelectionRange(5,7):t.setSelectionRange(6,8)},0)},incrementHour:function(){this.hour++},incrementMinute:function(t){var e;e=t?this.minute+t:this.minute+this.minuteStep-this.minute%this.minuteStep,e>59?(this.incrementHour(),this.minute=e-60):this.minute=e},incrementSecond:function(){var t=this.second+this.secondStep-this.second%this.secondStep;t>59?(this.incrementMinute(!0),this.second=t-60):this.second=t},mousewheel:function(e){if(!this.disableMousewheel){e.preventDefault(),e.stopPropagation();var i=e.originalEvent.wheelDelta||-e.originalEvent.detail,n=null;switch("mousewheel"===e.type?n=-1*e.originalEvent.wheelDelta:"DOMMouseScroll"===e.type&&(n=40*e.originalEvent.detail),n&&(e.preventDefault(),t(this).scrollTop(n+t(this).scrollTop())),this.highlightedUnit){case"minute":i>0?this.incrementMinute():this.decrementMinute(),this.highlightMinute();break;case"second":i>0?this.incrementSecond():this.decrementSecond(),this.highlightSecond();break;default:i>0?this.incrementHour():this.decrementHour(),this.highlightHour()}return!1}},place:function(){if(!this.isInline){var i=this.$widget.outerWidth(),n=this.$widget.outerHeight(),s=10,o=t(e).width(),h=t(e).height(),r=t(e).scrollTop(),a=parseInt(this.$element.parents().filter(function(){}).first().css("z-index"),10)+10,d=this.component?this.component.parent().offset():this.$element.offset(),c=this.component?this.component.outerHeight(!0):this.$element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.$element.outerWidth(!1),l=d.left,p=d.top;this.$widget.removeClass("durationpicker-orient-top durationpicker-orient-bottom durationpicker-orient-right durationpicker-orient-left"),"auto"!==this.orientation.x?(this.picker.addClass("datepicker-orient-"+this.orientation.x),"right"===this.orientation.x&&(l-=i-u)):(this.$widget.addClass("durationpicker-orient-left"),d.left<0?l-=d.left-s:d.left+i>o&&(l=o-i-s));var g,m,f=this.orientation.y;"auto"===f&&(g=-r+d.top-n,m=r+h-(d.top+c+n),f=Math.max(g,m)===m?"top":"bottom"),this.$widget.addClass("durationpicker-orient-"+f),"top"===f?p+=c:p-=n+parseInt(this.$widget.css("padding-top"),10),this.$widget.css({top:p,left:l,zIndex:a})}},remove:function(){t("document").off(".durationpicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().durationpicker},setDefaultDuration:function(t){this.$element.val()?this.updateFromElementVal():t===!1?(this.hour=0,this.minute=0,this.second=0):this.setDuration(t)},setDuration:function(t,e){if(!t)return void this.clear();var i,n,s,o;t=t.replace(/[^0-9\:]/g,""),i=t.split(":"),n=i[0]?i[0].toString():i.toString(),s=i[1]?i[1].toString():"",o=i[2]?i[2].toString():"",n=parseInt(n,10),s=parseInt(s,10),o=parseInt(o,10),isNaN(n)&&(n=0),isNaN(s)&&(s=0),isNaN(o)&&(o=0),0>n&&(n=0),0>s?s=0:s>=60&&(s=59),this.showSeconds&&(isNaN(o)?o=0:0>o?o=0:o>=60&&(o=59)),this.hour=n,this.minute=s,this.second=o,this.update(e)},showWidget:function(){if(!this.isOpen&&!this.$element.is(":disabled")){this.$widget.appendTo(this.appendWidgetTo);var e=this;t(i).on("mousedown.durationpicker, touchend.durationpicker",function(t){e.$element.parent().find(t.target).length||e.$widget.is(t.target)||e.$widget.find(t.target).length||e.hideWidget()}),this.$element.trigger({type:"show.durationpicker",duration:{value:this.getDuration(),hours:this.hour,minutes:this.minute,seconds:this.second}}),this.place(),this.disableFocus&&this.$element.blur(),""===this.hour&&(this.defaultDuration?this.setDefaultDuration(this.defaultDuration):this.setDuration("0:0:0")),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",t.proxy(this.hideWidget,this)):this.isOpen===!1&&this.$widget.addClass("open"),this.isOpen=!0}},update:function(t){this.updateElement(),t||this.updateWidget(),this.$element.trigger({type:"changeDuration.durationpicker",duration:{value:this.getDuration(),hours:this.hour,minutes:this.minute,seconds:this.second}})},updateElement:function(){this.$element.val(this.getDuration()).change()},updateFromElementVal:function(){this.setDuration(this.$element.val())},updateWidget:function(){if(this.$widget!==!1){var t=this.hour,e=1===this.minute.toString().length?"0"+this.minute:this.minute,i=1===this.second.toString().length?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-durationpicker-hour").val(t),this.$widget.find("input.bootstrap-durationpicker-minute").val(e),this.showSeconds&&this.$widget.find("input.bootstrap-durationpicker-second").val(i)):(this.$widget.find("span.bootstrap-durationpicker-hour").text(t),this.$widget.find("span.bootstrap-durationpicker-minute").text(e),this.showSeconds&&this.$widget.find("span.bootstrap-durationpicker-second").text(i))}},updateFromWidgetInputs:function(){if(this.$widget!==!1){var t=this.$widget.find("input.bootstrap-durationpicker-hour").val()+":"+this.$widget.find("input.bootstrap-durationpicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.bootstrap-durationpicker-second").val():"");this.setDuration(t,!0)}},widgetClick:function(e){e.stopPropagation(),e.preventDefault();var i=t(e.target),n=i.closest("a").data("action");n&&this[n](),this.update(),i.is("input")&&i.get(0).setSelectionRange&&i.get(0).setSelectionRange(0,i.val().length)},widgetKeydown:function(e){var i=t(e.target),n=i.attr("class").replace("bootstrap-durationpicker-","");switch(e.keyCode){case 9:if(this.showSeconds&&"second"===n||!this.showSeconds&&"minute"===n)return this.hideWidget();break;case 27:this.hideWidget();break;case 38:switch(e.preventDefault(),n){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond()}this.setDuration(this.getDuration()),i.get(0).setSelectionRange&&i.get(0).setSelectionRange(0,i.val().length);break;case 40:switch(e.preventDefault(),n){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond()}this.setDuration(this.getDuration()),i.get(0).setSelectionRange&&i.get(0).setSelectionRange(0,i.val().length)}},widgetKeyup:function(t){(65===t.keyCode||77===t.keyCode||80===t.keyCode||46===t.keyCode||8===t.keyCode||t.keyCode>=46&&t.keyCode<=57)&&this.updateFromWidgetInputs()}},t.fn.durationpicker=function(e){var i=Array.apply(null,arguments);return i.shift(),this.each(function(){var s=t(this),o=s.data("durationpicker"),h="object"==typeof e&&e;o||s.data("durationpicker",o=new n(this,t.extend({},t.fn.durationpicker.defaults,h,t(this).data()))),"string"==typeof e&&o[e].apply(o,i)})},t.fn.durationpicker.defaults={defaultDuration:!1,disableFocus:!1,disableMousewheel:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,orientation:{x:"auto",y:"auto"},secondStep:15,showSeconds:!1,showInputs:!0,template:"dropdown",customTemplateContent:!1,appendWidgetTo:"body",showWidgetOnAddonClick:!0},t.fn.durationpicker.Constructor=n}(jQuery,window,document);